(this["webpackJsonpmusic-and-lyrics"]=this["webpackJsonpmusic-and-lyrics"]||[]).push([[0],{11:function(e,t){e.exports={youtubeAPI:"AIzaSyBgDZZRrFUExQhXvlUbcfewjqLozvQw4EA",lyricsAPI:"f3125baf4c683c086d7349d8d73e510d"}},22:function(e,t,r){e.exports=r(46)},28:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(12),s=r.n(c),i=(r(27),r(28),r(2)),o=r(3),u=r(6),l=r(4),f=r(7),p=r(5),m=r(11),h=r.n(m),d=function(e){return function(t){return fetch("https://api.musixmatch.com/ws/1.1/track.search?q_track_artist=".concat(e,"&apikey=").concat(h.a.lyricsAPI,"&format=jsonp&callback=jsonp_callback&page_size=15")).then((function(e){return e.text()})).then((function(e){return e.replace(/^jsonp_callback\(|\)\;/g,"")})).then((function(e){return JSON.parse(e)})).then((function(e){return t(function(e){var t=e.message.body.track_list,r=[];if(0===e.message.header.available)r=[{title:"No result :(  Please try different keyword."}];else{var a=Object.keys(t).filter((function(e){return!t[e].track.track_name.includes("Karaoke")&&!t[e].track.artist_name.includes("Karaoke")})).reduce((function(e,r){return e[r]=t[r],e}),{});Object.keys(a).forEach((function(e){return r.push({lyricsId:t[e].track.track_id,artist:t[e].track.artist_name,title:t[e].track.track_name,thumb:t[e].track.album_coverart_100x100,type:"lyrics",favorite:!1})}))}return{type:"RECEIVE_API_LYRICS",searchResult:r}}(e))}))}},y=function(e){return function(t){return t(function(e){return{type:"SAVE_LYRICS_ID",lyricsId:e}}(e)),fetch("https://api.musixmatch.com/ws/1.1/track.lyrics.get?track_id=".concat(e,"&apikey=").concat(h.a.lyricsAPI,"&format=jsonp&callback=jsonp_callback")).then((function(e){return e.text()})).then((function(e){return e.replace(/^jsonp_callback\(|\)\;/g,"")})).then((function(e){return JSON.parse(e)})).then((function(e){return t(function(e){return{type:"RECEIVE_SELECTED_LYRICS_API",lyrics:void 0===e.message.body.lyrics||""===e.message.body.lyrics.lyrics_body?" Sorry, no Lyrics :( ":e.message.body.lyrics.lyrics_body}}(e))}))}},v=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).inputKeyword=function(e){var t=e.target.value;r.props.inputKeyword(t)},r.searchLyrics=function(){var e=r.props.keyword;r.props.requestAPI(e)},r.onKeyPress=function(e){13===e.which&&r.searchLyrics()},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"search_area_box"},n.a.createElement("h3",null,"Lyrics"),n.a.createElement("input",{type:"text",onChange:this.inputKeyword,onKeyPress:this.onKeyPress}),n.a.createElement("button",{onClick:this.searchLyrics,className:"search_button"},n.a.createElement("i",{class:"fas fa-search"})))}}]),t}(n.a.Component),b=Object(p.b)((function(e){return{keyword:e.lyrics.keyword}}),(function(e){return{requestAPI:function(t){e(d(t))},inputKeyword:function(t){e(function(e){return{type:"INPUT_KEYWORD_LYRICS",keyword:e}}(t))},requestLyricsAPI:function(t){e(y(t))}}}))(v),E=function(e){return{type:"SELECT_VIDEO",selectedVideoId:e}},_=function(e){return function(t){return fetch("https://www.googleapis.com/youtube/v3/search?type=video&part=snippet&q=".concat(e,"&key=").concat(h.a.youtubeAPI,"&maxResults=15")).then((function(e){return e.json()})).then((function(e){return t(function(e){var t=e.items,r=[];return console.log(e),0===e.pageInfo.totalResults?r=[{title:"No result :(  Please try different keyword."}]:t.forEach((function(e){return r.push({videoId:e.id.videoId,title:e.snippet.title,thumb:e.snippet.thumbnails.default.url,type:"youtube"})})),{type:"RECEIVE_API_YOUTUBE",searchResult:r}}(e))}))}},O=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).inputKeyword=function(e){var t=e.target.value;r.props.inputKeyword(t)},r.searchYouTube=function(){var e=r.props.keyword;r.props.requestAPI(e)},r.onKeyPress=function(e){13===e.which&&r.searchYouTube()},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"search_area_box"},n.a.createElement("h3",null,"YouTube"),n.a.createElement("input",{type:"text",onChange:this.inputKeyword,onKeyPress:this.onKeyPress}),n.a.createElement("button",{onClick:this.searchYouTube,className:"search_button"},n.a.createElement("i",{class:"fas fa-search"})))}}]),t}(n.a.Component),j=Object(p.b)((function(e){return{keyword:e.youtube.keyword,searchResult:e.youtube.searchResult}}),(function(e){return{requestAPI:function(t){e(_(t))},inputKeyword:function(t){e(function(e){return{type:"INPUT_KEYWORD_YOUTUBE",keyword:e}}(t))}}}))(O),I=r(18),L=function(e){return{type:"UPDATE_FAV_LIST",favList:e}},k=function(e){return{type:"REMOVE_ITEM",index:e}},g=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).onReady=function(e){e.target.playVideo()},r.getLocalData=function(){var e=localStorage.getItem("favorite");try{return e?JSON.parse(e):[]}catch(t){return[]}},r.addFavList=function(){var e=r.getLocalData(),t=r.props.searchResult,a=r.props.selectedVideoId,n=Object.keys(t).filter((function(e){return t[e].videoId===a})),c=t[n];e.push(c);localStorage.setItem("favorite",JSON.stringify(e)),r.props.updateFavList(e)},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.props.musicPlayer&&n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addFavList,className:"fav_button"},n.a.createElement("i",{class:"far fa-heart"})),n.a.createElement(I.a,{videoId:this.props.selectedVideoId,onReady:this.onReady,className:"main_content video"})))}}]),t}(n.a.Component),w=Object(p.b)((function(e){return{musicPlayer:e.youtube.musicPlayer,selectedVideoId:e.youtube.selectedVideoId,searchResult:e.youtube.searchResult}}),(function(e){return{updateFavList:function(t){e(L(t))}}}))(g),R=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).selectVideo=function(e){var t=r.props.searchResult[e].videoId;r.props.selectVideo(t)},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"youtube_result_top"},this.props.searchResult.map((function(t,r){return n.a.createElement("a",{href:"#jump",className:"result_item_link"},n.a.createElement("div",{key:r,onClick:function(){return e.selectVideo(r)},className:"result_item_box"},n.a.createElement("img",{src:t.thumb}),n.a.createElement("div",{className:"description_box"},n.a.createElement("p",null,t.title))))})))}}]),t}(n.a.Component),N=Object(p.b)((function(e){return{searchResult:e.youtube.searchResult,musicPlayer:e.youtube.musicPlayer}}),(function(e){return{selectVideo:function(t){e(E(t))}}}))(R),P=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).selectSong=function(e){var t=r.props.searchResult[e].lyricsId;r.props.requestLyricsAPI(t)},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"lyrics_result_top"},this.props.searchResult.map((function(t,r){return n.a.createElement("a",{href:"#jump",className:"result_item_link"},n.a.createElement("div",{key:r,onClick:function(){return e.selectSong(r)},className:"result_item_box"},n.a.createElement("img",{src:t.thumb}),n.a.createElement("div",{className:"description_box"},n.a.createElement("p",{className:"title"}," ",t.title),n.a.createElement("p",{className:"artist"}," ",t.artist))))})))}}]),t}(n.a.Component),C=Object(p.b)((function(e){return{searchResult:e.lyrics.searchResult}}),(function(e){return{requestLyricsAPI:function(t){e(y(t))}}}))(P),A=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).getLocalData=function(){var e=localStorage.getItem("favorite");try{return e?JSON.parse(e):[]}catch(t){return[]}},r.addFavList=function(){var e=r.getLocalData(),t=r.props.searchResult,a=r.props.lyricsId,n=Object.keys(t).filter((function(e){return t[e].lyricsId===a})),c=t[n];e.push(c);localStorage.setItem("favorite",JSON.stringify(e)),r.props.updateFavList(e)},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"lyrics_box"},this.props.error&&n.a.createElement("p",null,"error"),this.props.lyrics&&n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addFavList,className:"fav_button"},n.a.createElement("i",{className:"far fa-heart"})),n.a.createElement("div",{id:"jump2",className:"main_content lyrics"},this.props.lyrics.replace("\n,[object Object]",n.a.createElement("br",null)))))}}]),t}(n.a.Component),S=Object(p.b)((function(e){return{lyrics:e.lyrics.lyrics,searchResult:e.lyrics.searchResult,lyricsId:e.lyrics.lyricsId,favList:e.favList.favList,error:e.lyrics.error}}),(function(e){return{updateFavList:function(t){e(L(t))},removeItem:function(t){e(k(t))}}}))(A),V=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).getLocalData=function(){var e=localStorage.getItem("favorite");try{return e&&null!==e?JSON.parse(e):[]}catch(t){return[]}},r.componentDidMount=function(){var e=r.getLocalData();r.props.updateFavList(e)},r.componentDidUpdate=function(){localStorage.setItem("favorite",JSON.stringify(r.props.favList))},r.selectListItem=function(e){var t=r.props.favList[e];if("youtube"===t.type){var a=t.videoId;r.props.selectVideo(a)}else{var n=t.lyricsId;r.props.requestLyricsAPI(n)}},r.removeItem=function(e){r.props.removeItem(e)},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.favList.map((function(t,r){return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return e.removeItem(r)},className:"remove_fav_item_button"},n.a.createElement("i",{className:"fas fa-times-circle"})),n.a.createElement("a",{href:"#",onClick:function(){return e.selectListItem(r)},className:"result_item_link"},n.a.createElement("div",{key:r,className:"fav_item_box"},n.a.createElement("img",{src:t.thumb,className:"fav_thumb"}),n.a.createElement("div",{className:"fav_description_box"},n.a.createElement("p",null," ",t.title)))))})).reverse())}}]),t}(n.a.Component),F=Object(p.b)((function(e){return{favList:e.favList.favList,searchResult:e.lyrics.searchResult}}),(function(e){return{updateFavList:function(t){e(L(t))},selectVideo:function(t){e(E(t))},requestLyricsAPI:function(t){e(y(t))},removeItem:function(t){e(k(t))}}}))(V),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:this.props.showFavList?"box box_fav_list_show":"box box_fav_list_hide"},this.props.showFavList&&n.a.createElement("div",null,n.a.createElement("h3",null,"Favorite List"),0===this.props.favList.length?n.a.createElement("p",{className:"no_fav_items_message"},"There is no favorite item yet."):n.a.createElement("p",null),n.a.createElement(F,null)))}}]),t}(n.a.Component),T=Object(p.b)((function(e){return{favList:e.favList.favList,showFavList:e.favList.showFavList}}))(x),D=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).favListButton=function(){r.props.toggleFavList()},r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"header",id:"jump"},n.a.createElement("h1",null,"Music and Lyrics"),n.a.createElement("button",{className:"fav_list_button",onClick:this.favListButton},this.props.showFavList?"Hide Fav List":"Show Fav List"))}}]),t}(n.a.Component),K=Object(p.b)((function(e){return{showFavList:e.favList.showFavList}}),(function(e){return{toggleFavList:function(){e({type:"TOGGLE_FAV_LIST"})}}}))(D),Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(K,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"box"},n.a.createElement(j,null),n.a.createElement(w,null),n.a.createElement(N,null)),n.a.createElement("div",{className:"box"},n.a.createElement(b,null),n.a.createElement(S,null),n.a.createElement(C,null)),n.a.createElement(T,null)))}}]),t}(n.a.Component),U=r(21),q=r(10),J=r(8),B={keyword:"",searchResult:[],selectedVideoId:"",musicPlayer:!1,favData:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_KEYWORD_YOUTUBE":return Object(J.a)({},e,{keyword:t.keyword});case"RECEIVE_API_YOUTUBE":return Object(J.a)({},e,{searchResult:t.searchResult,musicPlayer:!1});case"SELECT_VIDEO":return Object(J.a)({},e,{selectedVideoId:t.selectedVideoId,musicPlayer:!0});default:return e}},W={keyword:"",searchResult:[],lyrics:"",lyricsId:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_KEYWORD_LYRICS":return Object(J.a)({},e,{keyword:t.keyword});case"RECEIVE_API_LYRICS":return Object(J.a)({},e,{searchResult:t.searchResult,lyrics:""});case"RECEIVE_SELECTED_LYRICS_API":return Object(J.a)({},e,{lyrics:t.lyrics});case"SAVE_LYRICS_ID":return Object(J.a)({},e,{lyricsId:t.lyricsId});default:return e}},z={favList:[],showFavList:!0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FAV_LIST":return Object(J.a)({},e,{favList:t.favList.filter((function(e){return null!==e}))});case"REMOVE_ITEM":var r=t.index,a=e.favList[r];return Object(J.a)({},e,{favList:e.favList.filter((function(e){return e!==a}))});case"TOGGLE_FAV_LIST":return Object(J.a)({},e,{showFavList:!e.showFavList});default:return e}},Z=Object(q.c)({youtube:M,lyrics:G,favList:Q});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=Object(q.d)(Z,Object(q.a)(U.a));s.a.render(n.a.createElement(p.a,{store:H},n.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.0e8be026.chunk.js.map